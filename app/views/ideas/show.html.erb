<div class="show_idea">
  <h1><%= best_in_place @idea, :title, as: :input %></h1>
<hr>
<div class="pins">
  <% pin = @idea.pins.find_by_user_id(current_user.id) if user_signed_in? %>
  <% if pin %>
    <%= link_to fa_icon("bookmark 5x"), idea_pin_path(@idea, pin), method: :delete %>
  <% else %>
    <%= link_to fa_icon("bookmark-o 5x"), idea_pins_path(@idea), method: :post %>
  <% end %>
</div>
<div class="description">
  <% if current_user == @idea.user %>
    <%= best_in_place(@idea, :description, :path => {:controller => "ideas", :action => "update"}, :type => :textarea, display_with: lambda {|text| markdown.render(text).html_safe }) %>
  <% else %>
    <% raw markdown.render(@idea.description) %>
  <% end %>
</div>

  <p>Created by: <%= link_to @idea.user.full_name, user_path(@idea.user) %></p>
</div>

  <% if current_user == @idea.user %>
  <!-- see above with best_in_place -->
    <%#= link_to "Edit", edit_idea_path(@idea) %>
    <%= button_to "Delete", idea_path(@idea), method: :delete, data: {confirm: "Are you sure?"}, class: "btn btn-info btn-sm" %>
  <% end %>
</div>
<div class="comment_form">
<%= render "/comments/form" %>
</div>

<strong><p>There are <%= @idea.comments.count %> Comments</p></strong>
<div class="comments">
<% @idea.comments.each do |comment| %>
  <%= render partial: "/comments/comment", locals: {comment: comment} %>
<% end %>
</div>
<h2>Sharing Ideas With Teams</h2>
<br>

<%= simple_form_for Share.new, url: idea_shares_path(@idea), method: :post do |f| %>
  <%= f.collection_check_boxes :team_ids, current_user.teams, :id, :title %>
  <%#= f.association :teams_shared_with, as: :check_boxes %>
  <%= f.submit class: "btn btn-info" %>
<% end %>
